{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>;.

    @template local_questionconverter/main
    @description Converter home page

    Example context (json):
    { 
        "link_return": "http://example.com/course", 
        "name-return": "Back", 
        "message": "Convert your PDF into questions ready to import", 
        "form_action": "http://example.com/local/questionconverter/index.php", 
        "sesskey": "abc123", 
        "courseid": 2, 
        "text-indicators": "Separate by indicators", 
        "text-selectcategory": "Select or drag your PDF file", 
        "text-selectcategory-help": "PDF files only", 
        "text-uploadpdf": "Selected file", 
        "text-change-file": "Change file", 
        "text-convert-and-import": "Convert and import", 
        "text-clear": "Clear", 
        "text-grid-success": "Quick conversion", 
        "text-grid-success-help": "Convert PDF documents into ready-to-use questions.", 
        "text-grid-info": "Smart import", 
        "text-grid-info-help": "Automatically create categories based on your settings.", 
        "text-loading": "Processing...", 
        "text-loading-help": "We are extracting the questions from the PDF.", 
        "footer": "Question Converter", 
        "year": "2026" 
    }
}}

<div class="flex gap-3 max-w-sm mb-4 float-right">
   <a class="py-2.5 px-3 rounded-lg text-sm font-medium text-white bg-blue-600 link-clean hover:bg-blue-800 transition duration-300" href="{{link_return}}">{{#str}}name-return, local_questionconverter{{/str}}</a>
</div>
<div class="bg-white">    
    <div class="max-w-4xl mx-auto px-2 py-8">
        <div class="">
            <p class="text-gray-600 mt-2 text-base">{{#str}}message, local_questionconverter{{/str}}</p>
        </div>
    </div>
    <!--Form-->
    <div class="max-w-4xl mx-auto">
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
            <div class="p-8">
                <div class="qc-moodle-form-wrapper">
                    {{{form_html}}}
                </div>
            </div>
        </div>
    </div>
    <!-- Info Grid -->
    <div class="mt-12 grid md:grid-cols-2 gap-2">
        <div class="text-center">
            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-blue-600">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5" />
                </svg>
            </div>
            <h3 class="font-semibold text-gray-900">{{#str}}text-grid-success, local_questionconverter{{/str}}</h3>
            <p class="text-gray-600 text-sm mt-2">
              {{#str}}text-grid-success-help, local_questionconverter{{/str}}
            </p>
          </div>
          <div class="text-center">
            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-blue-600">
                <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99" />
                </svg>
            </div>
            <h3 class="font-semibold text-gray-900">{{#str}}text-grid-info, local_questionconverter{{/str}}</h3>
            <p class="text-gray-600 text-sm mt-2">
             {{#str}}text-grid-info-help, local_questionconverter{{/str}}
            </p>
          </div>
    </div>
    <!-- Loader -->
    <div id="qc-loader" class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 z-50 flex items-center justify-center backdrop-blur-sm">
        <div class="bg-white rounded-2xl p-8 shadow-2xl flex flex-col items-center gap-6 max-w-sm mx-4">
            <!-- Spinner-->
            <div class="relative">
                <div class="animate-spin rounded-full h-20 w-20 border-4 border-gray-200 border-t-blue-700"></div>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <svg class="w-10 h-10 text-blue-700" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z"/>
                        </svg>
                    </div>
                </div>
                
                <div class="text-center">
                    <p class="text-gray-900 font-bold text-lg mb-2">{{#str}}text-loading, local_questionconverter{{/str}}</p>
                    <p class="text-gray-600 text-sm">{{#str}}text-loading-help, local_questionconverter{{/str}}{{}}</p>
                </div>
                
                <div class="w-full bg-gray-200 rounded-full h-2 overflow-hidden">
                    <div id="qc-progress-bar" class="bg-blue-700 h-full rounded-full" style="width: 10%;"></div>
                </div>
                
            </div>
        </div>
    <!-- Footer -->
    <div class="max-w-4xl mx-auto mt-12 h-16 text-center">
        <p class="text-sm text-gray-700 font-semibold">{{#str}}stringfooter, local_questionconverter{{/str}} - {{year}}</p>
    </div>
</div>