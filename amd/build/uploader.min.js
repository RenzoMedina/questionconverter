define("local_questionconverter/uploader",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=()=>{const loader=document.getElementById("qc-loader"),progressBar=document.getElementById("qc-progress-bar"),moodleForm=document.querySelector(".qc-moodle-form-wrapper form");let progressTimer=null,progressValue=10,progressDirection=1;const stopProgress=()=>{progressTimer&&(clearInterval(progressTimer),progressTimer=null),progressBar&&(progressBar.style.width="10%")};loader&&moodleForm&&moodleForm.addEventListener("submit",(function(){if("function"==typeof moodleForm.checkValidity&&!moodleForm.checkValidity())return loader.classList.add("hidden"),loader.classList.remove("flex"),void stopProgress();loader.classList.remove("hidden"),loader.classList.add("flex"),progressBar&&!progressTimer&&(progressValue=10,progressDirection=1,progressBar.style.transition="width 0.2s ease",progressBar.style.width=progressValue+"%",progressTimer=setInterval((function(){loader&&!loader.classList.contains("hidden")?(progressValue+=8*progressDirection,progressValue>=90?(progressValue=90,progressDirection=-1):progressValue<=10&&(progressValue=10,progressDirection=1),progressBar.style.width=progressValue+"%"):stopProgress()}),200))}))}}));

//# sourceMappingURL=uploader.min.js.map